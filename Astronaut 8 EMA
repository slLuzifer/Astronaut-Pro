//@version=5
indicator("Astronaut 8 EMA ",  overlay=true)
shwema = input(false, 'Show EMAs')
shwvol = input(false, 'Show high volume')

src = input(close, title='Source')


ema1time = input.timeframe(title='EMA 1 Time Frame', defval='', group='EMAs')
ema1leng = input.int(8, title='EMA 1 Period', group='EMAs')
ema1 = request.security(syminfo.tickerid, ema1time, ta.ema(src, ema1leng))

ema2time = input.timeframe(title='EMA 2 Time Frame', defval='', group='EMAs')
ema2leng = input.int(13, title='EMA 2 Period', group='EMAs')
ema2 = request.security(syminfo.tickerid, ema2time, ta.ema(src, ema2leng))

ema3time = input.timeframe(title='EMA 3 Time Frame', defval='', group='EMAs')
ema3leng = input.int(22, title='EMA 3 Period', group='EMAs')
ema3 = request.security(syminfo.tickerid, ema3time, ta.ema(src, ema3leng))

ema4time = input.timeframe(title='EMA 4 Time Frame', defval='', group='EMAs')
ema4leng = input.int(55, title='EMA 4 Period', group='EMAs')
ema4 = request.security(syminfo.tickerid, ema4time, ta.ema(src, ema4leng))

ema5time = input.timeframe(title='EMA 5 Time Frame', defval='', group='EMAs')
ema5leng = input.int(100, title='EMA 5 Period', group='EMAs')
ema5 = request.security(syminfo.tickerid, ema5time, ta.ema(src, ema5leng))

ema6time = input.timeframe(title='EMA 6 Time Frame', defval='', group='EMAs')
ema6leng = input.int(200, title='EMA 6 Period', group='EMAs')
ema6 = request.security(syminfo.tickerid, ema6time, ta.ema(src, ema6leng))

ema7time = input.timeframe(title='EMA 7 Time Frame', defval='', group='EMAs')
ema7leng = input.int(300, title='EMA 7 Period', group='EMAs')
ema7 = request.security(syminfo.tickerid, ema7time, ta.ema(src, ema7leng))

ema8time = input.timeframe(title='EMA 8 Time Frame', defval='', group='EMAs')
ema8leng = input.int(350, title='EMA 8 Period', group='EMAs')
ema8 = request.security(syminfo.tickerid, ema8time, ta.ema(src, ema8leng))


ema1plot = plot(shwema ? ema1 : na, title=' EMA 1', color=color.white, linewidth=1, offset=0)
ema2plot = plot(shwema ? ema2 : na, title=' EMA 2', color=color.white, linewidth=1, offset=0)
ema3plot = plot(shwema ? ema3 : na, title=' EMA 3', color=color.white, linewidth=1, offset=0)
ema4plot = plot(shwema ? ema4 : na, title=' EMA 4', color=color.white, linewidth=1, offset=0)
ema5plot = plot(shwema ? ema5 : na, title=' EMA 5', color=color.white, linewidth=1, offset=0)
ema6plot = plot(shwema ? ema6 : na, title=' EMA 6', color=color.white, linewidth=1, offset=0)
ema7plot = plot(shwema ? ema7 : na, title=' EMA 7', color=color.white, linewidth=1, offset=0)
ema8plot = plot(shwema ? ema8 : na, title=' EMA 8', color=color.white, linewidth=1, offset=0)

exponential = input(false, title="Exponential MA")

vol = close * volume

srcvol=vol
lngth=13
ma13 = exponential ? ta.ema(srcvol, lngth) : ta.sma(srcvol, lngth)
//palette = close[1] > close ? #ef5350 : #26a69a 
condition=vol>=ma13
barcolor((condition and shwvol)  ? color.yellow : na)






